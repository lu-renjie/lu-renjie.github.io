---
title: 【推荐系统】模型优化思路
tags: 推荐系统 深度学习 笔记
published: false
---


## 理解推荐系统

- 推荐系统模型很直接，实质上还是在学特征之间比较基础的联系，比如线性回归的加权，LR的baseline本身结果就很好，不需要学习CV或NLP里面那些很high-level的抽象表征。
- 业务上的理解
    - 不同国家的模型
    - 合规导致的问题

### 推荐系统的闭环

模型影响了用户看到的内容，用户对这些内容的行为会以数据流的形式反馈到模型，进一步影响自己看到的内容，于是形成了一个反馈回路。

### 用户分层

不同用户的兴趣差异非常大，要优化推荐系统，必须深入理解用户。

### 内容分层

内容可以分为UGC和PGC，内容是流量平台的基石，运营好平台内容非常重要。

### 各种bias

[https://zhuanlan.zhihu.com/p/428037218](https://zhuanlan.zhihu.com/p/428037218)

#### SSB问题

模型用于训练的样本都是send出去的样本，本身就是排序比较靠前的样本。但实际推理的时候大多数都不是这样，因此存在bias。

#### Position bias

[https://zhuanlan.zhihu.com/p/439499892](https://zhuanlan.zhihu.com/p/439499892)

简单的解决办法是加特征，把位置也作为特征输入进去。

### 线上线下不一致

原因可能有很多，比如特征线上线下不一致。

离线数据训练有提升，但是线上不一定有提升，原因在于：

- SSB问题。粗排送过来的数据和训练用的曝光过的数据不同
- 线上受冷启动影响

#### AUC纠偏

AUC指标的问题，数据分布的变化。

- Debias AUC


## 精排模型优化

### 特征设计

* 从user journey的角度理解send到action的链路，在链路的每个环节都设计特征，让模型感知全链路。
* 用户分层
* 内容分层

### 模型

多看论文吧。。。各种纠偏。


## 资源占用优化

### 推理时延优化

半精度推理、减小模型参数量、low-rank的线性层。


### 内存占用优化

特征淘汰

embedding大小调优


