---
title: 【深度学习】炼丹笔记
tags: 深度学习 笔记
---


* 模型
    * 一般来说推荐系统里的embedding维度设成32即可
    * RMSNorm和LayerNorm在效果上没有明显差异
    * PreNorm比PostNorm非常显著的更好优化
* loss
    * InfoNCE Loss温度系数默认可以设为0.07，这个影响很大可以多调调
    * InfoNCE Loss算余弦相似度之前加一个MLP降维到64效果更好
    * 一般测试loss不一定能和最终测试指标一致，最好找一致的指标监控
* 训练
    * WarmUp+Cosine衰减的学习率是最好的，在各种任务上都非常可靠的更好
    * AdamW的weight decay设成0.0001
    * 梯度裁剪一般把最大范数设为1即可，在LLM以及各种任务都挺泛用
    * 训练出现loss spike一般是数据问题，可以去掉对应的数据，或者加梯度裁剪避免坏数据带偏模型
    * 推荐系统在One-Epoch的训练场景下没有测试集不好判断过拟合，此时可以通过看模型预测的概率是否大多数都非常接近1来判断过拟合
